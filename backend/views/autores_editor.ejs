<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portal de notícias</title>
 
<style>
:root {
  /* Variáveis globais (boa prática) */
  --cor-principal: #291B1A;
  --cor-secundaria: #5ca3b3;
  --cor-fundo: #F0E8C2;
  --cor-body: #0F172A; /* cor de fundo geral */
}

body {
  background-color: var(--cor-body); /* fundo da página */
  font-family: Arial, Helvetica, sans-serif;
  display: flex;
  justify-content: center;
  align-items: flex-start; /* sobe o container */
  min-height: 100vh;
  padding: 2rem;
}

form {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 2rem;
}

.btn-custom {
  background-color: var(--cor-principal);
  color: #fff;
  border: none;
  border-radius: 0.5rem;
  padding: 10px 24px;
  font-size: 1rem;
  font-weight: bold;
  cursor: pointer;
  margin-top: 8px;
}

.btn-custom:hover {
  background-color: var(--cor-secundaria);
}

.container {
  border: var(--cor-principal) solid 1px;
  color: var(--cor-principal);
  padding: 2rem;
  background-color: var(--cor-fundo);
  width: 90%;
  min-height: 30rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
  box-shadow: 0px 4px 12px rgba(0,0,0,0.1);
  border-radius: 0.8rem;
}

h1, h2 {
  text-align: center;
  margin-bottom: 1rem;
}

.table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 1rem;
}

table, th, td {
  border: 1px solid black;
  background-color: aliceblue;
}
</style>
</head>
<body>
 
 
 
  <div class="container" class="font">
   <h1>Autores</h1>
  
   <table class="table">
  
   <tr> 
    <th>ID</th>
    <th>Nome</th>   
    <th>Email</th>
    <th>Ações</th>
   </tr>
    <% autores.forEach(autor => { %>
   <tr>
      <td><%= autor.id_autor %></td>
      <td><%= autor.nome_autor %></td>
      <td><%= autor.email_autor %></td>
      <td> 
        <button type="button" onclick="editar_formulario('<%= autor.id_autor %>','<%= autor.nome_autor %>','<%= autor.email_autor %>','<%= autor.senha_autor %>')">Editar</button>
        <form action="/autores/deletar" method="post" style="display:inline;">
          <input type="hidden" name="id_autor" value="<%= autor.id_autor %>">
          <button type="submit" name="action" value="Excluir">Excluir</button> 
        </form>
      </td>
    </tr>
    <% }) %>
  

    </table>
  
    <form method="post" action="/autores/cadastrar_autor">
  <h2>Cadastrar Autor</h2>
  <input type="hidden" id="id_autor" name="id_autor">
  <label for="nome_autor">Nome</label>
  <input type="text" id="nome_autor" name="nome_autor" required>
 
  <label for="email_autor">Email:</label>
  <input type="email" id="email_autor" name="email_autor" required >
 
  <label for="senha_autor">Senha</label>
  <input type="password" id="senha_autor" name="senha_autor" required>
  <button type="submit"  class="btn-custom"  name="action"   value="incluir" >Cadastrar</button>
  <button type="submit" class="btn-custom" name="action" value="atualizar">Atualizar</button>
  </form>
  

  <script>
  function editar_formulario(id_autor, nome_autor, email_autor, senha_autor) {
    
    document.getElementById('id_autor').value = id_autor;
    document.getElementById('nome_autor').value = nome_autor;
    document.getElementById('email_autor').value = email_autor
    document.getElementById('senha_autor').value = senha_autor;
  }
 </script>
 </div>
 </body>

</html>